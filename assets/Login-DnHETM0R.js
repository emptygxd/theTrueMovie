import{u as S,a as N,b as _,r as d,P as g,R as m,c as E,j as s,L as v,d as P}from"./index-Bls0foRN.js";import{u as I,S as u,a as T}from"./StyledInput-RMRrcq5A.js";import{S as b}from"./StyledButton-D7Ja3p_W.js";const D=()=>{const p=S(),a=N(_);d.useEffect(()=>{document.title=g.LOGIN,a.name&&p(m.BASE)},[a]);const{isHidden:t,showPassword:h}=I(),x=E(),[f,r]=d.useState(""),o=localStorage.getItem("user"),e=o?JSON.parse(o):null,j=n=>{n.preventDefault();const c=new FormData(n.currentTarget),i=c.get("email"),l=c.get("password");if(i&&l)if(e&&e.email===i&&e.password===l){const{password:L,...w}=e;x(P.setUser(w))}else r("Неверный email или пароль");else r("Поля должны быть заполнены")};return s.jsx("section",{className:"form__container",children:s.jsxs("form",{onSubmit:j,className:"form",children:[s.jsx("h2",{children:"Вход"}),s.jsxs("div",{className:"login__container",children:[s.jsx("div",{className:"form__unit",children:s.jsx(u,{type:"mail",name:"email",placeholder:"Электронная почта"})}),s.jsxs("div",{className:"form__unit",children:[s.jsx(u,{type:t==="hidden"?"password":"text",name:"password",placeholder:"Пароль"}),s.jsx(T,{isHidden:t,callback:h}),s.jsx("p",{className:"error",children:f})]})]}),s.jsxs("div",{className:"form__buttons",children:[s.jsx(b,{children:"Подтвердить"}),s.jsxs("p",{children:["Нет аккаунта?"," ",s.jsx(v,{to:m.REGISTRATION,children:"Зарегистрироваться"})]})]})]})})};export{D as default};
